<label class="block clearfix">
  <span class="block input-icon input-icon-right">
    <input required="required" type="id" name="id_" class="form-control" placeholder="身份证号" />
    <i class="ace-icon fa fa-pencil"></i>
  </span>
</label>
<label class="idErr" style="display: none; color: red"></label>

<script type="text/javascript">
  jQuery(function($) {
    //id 验证
    $("input[type=id]").blur(function () {
      var id = $(this).val();
      var flag = true;
      if (id.length != 18) {
        flag = false;
      }
      else{
        var num= /^[0-9]+.?[0-9]*$/;
        for(var i=0;i<17;i++){
          if(!num.test(id.charAt(i))){
            flag = false;
          }
        }

      }
      if (!flag) {
        $(this).closest("form").find(".idErr").show();
        $(this).closest("form").find(".idErr").text("身份证号应为18位数字");
        $(this).closest("form").find("input[type=submit]").attr("disabled", true);
      } else {
        $(this).closest("form").find(".idErr").hide();
        $(this).closest("form").find("input[type=submit]").attr("disabled", false);
      }
    });
  });
</script>
